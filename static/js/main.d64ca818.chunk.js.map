{"version":3,"sources":["products.js","contexts/use-cart.js","components/Cart.js","components/Header.js","components/Product.js","App.js","index.js","supermarket.svg"],"names":["sku","name","image_url","price","CartContext","createContext","useCart","useContext","initialState","cart","reducer","state","type","payload","products","find","p","indexInCart","findIndex","newCart","splice","CartProvider","children","useReducer","dispatch","groupCartItems","reduce","product","quantity","push","Provider","value","addItem","removeItem","emptyCart","cartGroupedByItems","countItemsInCart","filter","length","totalPrice","Cart","className","map","index","key","src","alt","width","onClick","Header","modalRef","useRef","useState","isOpen","setIsOpen","useOnClickOutside","CartIcon","ref","style","display","Product","App","listRef","useEffect","gsap","from","current","duration","y","ease","delay","to","opacity","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.d64ca818.chunk.js","sourcesContent":["// hard coding in products right here. you would most likely grab these from an api\nexport default [\n  {\n    sku: 123,\n    name: 'USB',\n    image_url:\n      'https://images.unsplash.com/photo-1587145820098-23e484e69816?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=80',\n    price: 20,\n  },\n  {\n    sku: 456,\n    name: 'Calculadora',\n    image_url:\n      'https://images.unsplash.com/photo-1587145820266-a5951ee6f620?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=80',\n    price: 30,\n  },\n  {\n    sku: 789,\n    name: 'Blocks',\n    image_url:\n      'https://images.unsplash.com/photo-1587145820137-a9dbc8c5ed99?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=80',\n    price: 40,\n  },\n  {\n    sku: 1011,\n    name: 'Borrador',\n    image_url:\n      'https://images.unsplash.com/photo-1587145717234-bc7fae25ed38?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=80',\n    price: 50,\n  },\n  {\n    sku: 1194,\n    name: 'Sharpie',\n    image_url:\n      'https://images.unsplash.com/photo-1587145717011-b2c3349adf6a?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=80',\n    price: 5,\n  },\n  {\n    sku: 1994,\n    name: 'Metro',\n    image_url:\n      'https://images.unsplash.com/photo-1587145717032-7d7bdfe0497e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=80',\n    price: 4,\n  },\n  {\n    sku: 1002,\n    name: 'Corrector',\n    image_url:\n      'https://images.unsplash.com/photo-1587145716981-d97565ef76d4?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=80',\n    price: 3,\n  },\n  {\n    sku: 902,\n    name: 'Bocina',\n    image_url:\n      'https://images.unsplash.com/photo-1587145717184-e7ee5311253d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=80',\n    price: 10,\n  },\n  {\n    sku: 1100,\n    name: 'Sacapuntas',\n    image_url:\n      'https://images.unsplash.com/photo-1587145717000-b728a1041563?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=80',\n    price: 2,\n  },\n];\n","import React, { createContext, useContext, useReducer } from 'react';\nimport products from '../products';\n\nconst CartContext = createContext();\nexport const useCart = () => useContext(CartContext);\n\n// reducer\nconst initialState = { cart: [] };\n\nfunction reducer(state, { type, payload }) {\n  switch (type) {\n    case 'ADD':\n      // payload is going to be our sku\n      return {\n        ...state,\n        cart: [...state.cart, products.find((p) => p.sku === payload)],\n      };\n    case 'REMOVE':\n      const indexInCart = state.cart.findIndex((p) => p.sku === payload);\n      const newCart = [...state.cart];\n      newCart.splice(indexInCart, 1);\n      return { ...state, cart: newCart };\n    case 'EMPTY':\n      return { cart: [] };\n    default:\n      return state;\n  }\n}\n\n// cart context for the provider\nexport function CartProvider({ children }) {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const addItem = (sku) => dispatch({ type: 'ADD', payload: sku });\n  const removeItem = (sku) => dispatch({ type: 'REMOVE', payload: sku });\n  const emptyCart = () => dispatch({ type: 'EMPTY' })\n\n  function countItemsInCart(sku) {\n    const itemsInCart =\n      state.cart.filter((product) => product.sku === sku) ?? [];\n    return itemsInCart.length;\n  }\n\n  function totalPrice() {\n    return groupCartItems().reduce((totalPrice, product) => {\n      return totalPrice + product.price * product.quantity;\n    }, 0);\n  }\n\n  function groupCartItems() {\n    return state.cart.reduce((newCart, product) => {\n      // check the newCart array for a product\n      const indexInCart = newCart.findIndex((p) => p.sku === product.sku);\n      const isInCart = indexInCart !== -1;\n\n      // if its in the array, increment the quantity\n      if (isInCart) {\n        newCart[indexInCart].quantity = newCart[indexInCart].quantity + 1;\n        return newCart;\n      }\n\n      // if not in the array, add it to the array\n      newCart.push({ ...product, quantity: 1 });\n      return newCart;\n    }, []);\n  }\n\n  return (\n    <CartContext.Provider\n      value={{\n        addItem,\n        removeItem,\n        emptyCart,\n        cart: state.cart,\n        cartGroupedByItems: groupCartItems(),\n        countItemsInCart,\n        totalPrice: totalPrice(),\n      }}\n    >\n      {children}\n    </CartContext.Provider>\n  );\n}\n","import React from 'react';\nimport { useCart } from '../contexts/use-cart';\n\nexport default function Cart() {\n  // const { addItem, removeItem, totalPrice, cart } = useCart();\n  const { addItem, removeItem, cartGroupedByItems, totalPrice } = useCart();\n\n  return (\n    <div className=\"cart\">\n      {/* show cart items here */}\n      {cartGroupedByItems.map((product, index) => (\n        <div className=\"cart-item\" key={index}>\n          <img src={product.image_url} alt={product.name} width=\"100\" />\n\n          <div className=\"content\">\n            <h3>{product.name}</h3>\n\n            <div className=\"cart-buttons\">\n              <button onClick={() => removeItem(product.sku)}>-</button>\n              <button>{product.quantity}</button>\n              <button onClick={() => addItem(product.sku)}>+</button>\n            </div>\n          </div>\n        </div>\n      ))}\n\n      {totalPrice > 0 ? (\n        <div className=\"total\">${totalPrice}</div>\n      ) : (\n        <div className=\"total\">\n          <p>nada agregado</p>\n        </div>\n      )}\n    </div>\n  );\n}\n","import React, { useState, useRef } from 'react';\nimport CartIcon from '../supermarket.svg';\nimport useOnClickOutside from 'use-onclickoutside';\nimport { useCart } from '../contexts/use-cart';\nimport Cart from './Cart';\n\nexport default function Header() {\n  const { cart } = useCart();\n\n  const modalRef = useRef(null);\n  const [isOpen, setIsOpen] = useState(false);\n\n  // close the modal if we click outside of it\n  useOnClickOutside(modalRef, () => setIsOpen(false));\n\n  return (\n    <header>\n      <div className=\"container\">\n        <h2>simple store</h2>\n        <div className=\"cart-button\">\n          <button onClick={() => setIsOpen((isOpen) => !isOpen)}>\n            <img src={CartIcon} width=\"30\" />({cart.length})\n          </button>\n\n          {/* show a modal */}\n          <div\n            ref={modalRef}\n            className=\"cart-modal\"\n            style={{ display: isOpen ? 'block' : 'none' }}\n          >\n            <Cart />\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n}\n","import React from 'react';\nimport { useCart } from '../contexts/use-cart';\n\nexport default function Product({ product }) {\n  const { addItem, removeItem, countItemsInCart } = useCart();\n\n  return (\n    <div className=\"product\">\n      {/* image */}\n      <img src={product.image_url} alt={product.name} />\n\n      {/* product name */}\n      <h3>{product.name}</h3>\n      <p>Precio: ${product.price}</p>\n\n      {/* buttons */}\n      <div className=\"product-buttons\">\n        {/* add */}\n        <button className=\"add\" onClick={() => addItem(product.sku)}>\n          Agregar ({countItemsInCart(product.sku)})\n        </button>\n        {/* remove */}\n        {countItemsInCart(product.sku) > 0 ? (\n          <button className=\"remove\" onClick={() => removeItem(product.sku)}>\n            Eliminar\n          </button>\n        ) : (\n          <div />\n        )}\n      </div>\n    </div>\n  );\n}\n","import React, { useRef, useEffect } from 'react';\nimport Header from './components/Header';\nimport products from './products';\nimport Product from './components/Product';\nimport { gsap } from 'gsap';\nimport { CartProvider } from './contexts/use-cart';\nimport './App.css';\n\nexport default function App() {\n  const listRef = useRef(null);\n\n  useEffect(() => {\n    gsap.from(listRef.current, {\n      duration: 0.5,\n      y: 30,\n      ease: 'Power3.easeOut',\n      delay: 1,\n    });\n\n    gsap.to(listRef.current, {\n      duration: 1,\n      opacity: 1,\n      delay: 0.5,\n    });\n  }, []);\n\n  return (\n    <CartProvider>\n      <div className=\"app\">\n        {/* header */}\n        <Header />\n\n        <main>\n          <div className=\"products-list\" ref={listRef}>\n            {/* show products here */}\n\n            {products.map((product, index) => (\n              <Product key={index} product={product} />\n            ))}\n          </div>\n        </main>\n      </div>\n    </CartProvider>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/supermarket.bf03f45c.svg\";"],"sourceRoot":""}
(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{11:function(e,t,a){e.exports=a(17)},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(8),i=a.n(c),u=a(4),o=a(9),l=a.n(o),m=a(10),s=a(5),d=a(1),p=[{sku:123,name:"USB",image_url:"https://images.unsplash.com/photo-1587145820098-23e484e69816?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=80",price:20},{sku:456,name:"Calculadora",image_url:"https://images.unsplash.com/photo-1587145820266-a5951ee6f620?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=80",price:30},{sku:789,name:"Blocks",image_url:"https://images.unsplash.com/photo-1587145820137-a9dbc8c5ed99?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=80",price:40},{sku:1011,name:"Borrador",image_url:"https://images.unsplash.com/photo-1587145717234-bc7fae25ed38?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=80",price:50},{sku:1194,name:"Sharpie",image_url:"https://images.unsplash.com/photo-1587145717011-b2c3349adf6a?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=80",price:5},{sku:1994,name:"Metro",image_url:"https://images.unsplash.com/photo-1587145717032-7d7bdfe0497e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=80",price:4},{sku:1002,name:"Corrector",image_url:"https://images.unsplash.com/photo-1587145716981-d97565ef76d4?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=80",price:3},{sku:902,name:"Bocina",image_url:"https://images.unsplash.com/photo-1587145717184-e7ee5311253d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=80",price:10},{sku:1100,name:"Sacapuntas",image_url:"https://images.unsplash.com/photo-1587145717000-b728a1041563?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=80",price:2}],f=Object(r.createContext)(),E=function(){return Object(r.useContext)(f)},b={cart:[]};function h(e,t){var a=t.type,r=t.payload;switch(a){case"ADD":return Object(d.a)(Object(d.a)({},e),{},{cart:[].concat(Object(s.a)(e.cart),[p.find((function(e){return e.sku===r}))])});case"REMOVE":var n=e.cart.findIndex((function(e){return e.sku===r})),c=Object(s.a)(e.cart);return c.splice(n,1),Object(d.a)(Object(d.a)({},e),{},{cart:c});case"EMPTY":return{cart:[]};default:return e}}function y(e){var t=e.children,a=Object(r.useReducer)(h,b),c=Object(u.a)(a,2),i=c[0],o=c[1];function l(){return i.cart.reduce((function(e,t){var a=e.findIndex((function(e){return e.sku===t.sku}));return-1!==a?(e[a].quantity=e[a].quantity+1,e):(e.push(Object(d.a)(Object(d.a)({},t),{},{quantity:1})),e)}),[])}return n.a.createElement(f.Provider,{value:{addItem:function(e){return o({type:"ADD",payload:e})},removeItem:function(e){return o({type:"REMOVE",payload:e})},emptyCart:function(){return o({type:"EMPTY"})},cart:i.cart,cartGroupedByItems:l(),countItemsInCart:function(e){var t;return(null!==(t=i.cart.filter((function(t){return t.sku===e})))&&void 0!==t?t:[]).length},totalPrice:l().reduce((function(e,t){return e+t.price*t.quantity}),0)}},t)}function g(){var e=E(),t=e.addItem,a=e.removeItem,r=e.cartGroupedByItems,c=e.totalPrice;return n.a.createElement("div",{className:"cart"},r.map((function(e,r){return n.a.createElement("div",{className:"cart-item",key:r},n.a.createElement("img",{src:e.image_url,alt:e.name,width:"100"}),n.a.createElement("div",{className:"content"},n.a.createElement("h3",null,e.name),n.a.createElement("div",{className:"cart-buttons"},n.a.createElement("button",{onClick:function(){return a(e.sku)}},"-"),n.a.createElement("button",null,e.quantity),n.a.createElement("button",{onClick:function(){return t(e.sku)}},"+"))))})),c>0?n.a.createElement("div",{className:"total"},"$",c):n.a.createElement("div",{className:"total"},n.a.createElement("p",null,"nada agregado")))}function v(){var e=E().cart,t=Object(r.useRef)(null),a=Object(r.useState)(!1),c=Object(u.a)(a,2),i=c[0],o=c[1];return Object(m.a)(t,(function(){return o(!1)})),n.a.createElement("header",null,n.a.createElement("div",{className:"container"},n.a.createElement("h2",null,"simple store"),n.a.createElement("div",{className:"cart-button"},n.a.createElement("button",{onClick:function(){return o((function(e){return!e}))}},n.a.createElement("img",{src:l.a,width:"30"}),"(",e.length,")"),n.a.createElement("div",{ref:t,className:"cart-modal",style:{display:i?"block":"none"}},n.a.createElement(g,null)))))}function k(e){var t=e.product,a=E(),r=a.addItem,c=a.removeItem,i=a.countItemsInCart;return n.a.createElement("div",{className:"product"},n.a.createElement("img",{src:t.image_url,alt:t.name}),n.a.createElement("h3",null,t.name),n.a.createElement("p",null,"Precio: $",t.price),n.a.createElement("div",{className:"product-buttons"},n.a.createElement("button",{className:"add",onClick:function(){return r(t.sku)}},"Agregar (",i(t.sku),")"),i(t.sku)>0?n.a.createElement("button",{className:"remove",onClick:function(){return c(t.sku)}},"Eliminar"):n.a.createElement("div",null)))}var O=a(6);a(16);function j(){var e=Object(r.useRef)(null);return Object(r.useEffect)((function(){O.a.from(e.current,{duration:.5,y:30,ease:"Power3.easeOut",delay:1}),O.a.to(e.current,{duration:1,opacity:1,delay:.5})}),[]),n.a.createElement(y,null,n.a.createElement("div",{className:"app"},n.a.createElement(v,null),n.a.createElement("main",null,n.a.createElement("div",{className:"products-list",ref:e},p.map((function(e,t){return n.a.createElement(k,{key:t,product:e})}))))))}i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(j,null)),document.getElementById("root"))},9:function(e,t,a){e.exports=a.p+"static/media/supermarket.bf03f45c.svg"}},[[11,1,2]]]);
//# sourceMappingURL=main.d64ca818.chunk.js.map